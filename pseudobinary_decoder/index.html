<!DOCTYPE html>

<html lang="en" data-bs-theme="auto">
  <head>
    <meta charset="utf-8" />
    <title>Pseudobinary Decoder</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="main.css" />
    <script type="text/javascript" src="../assets/scripts/funcs.js"></script>
    <script>
      (function () {
        const htmlElement = document.querySelector("html");
        if (htmlElement.getAttribute("data-bs-theme") === "auto") {
          function updateTheme() {
            document
              .querySelector("html")
              .setAttribute(
                "data-bs-theme",
                window.matchMedia("(prefers-color-scheme: dark)").matches
                  ? "dark"
                  : "light"
              );
          }
          window
            .matchMedia("(prefers-color-scheme: dark)")
            .addEventListener("change", updateTheme);
          updateTheme();
        }
      })();
    </script>
  </head>

  <body>
    <header class="border-bottom border-primary mb-4">
      <h1>
        <a href="/pseudobinary_decoder/"> Pseudobinary Decoder </a>
      </h1>
      <p class="text-sm mb-2">
        Leave <code>Start</code> and <code>End</code> empty to decode the whole
        message. The index begins at <code>0</code>.
      </p>
    </header>

    <form name="msg_data" class="mb-4" action="javascript:main()">
      <div>
        <label for="e_msg">Encoded Message:</label>
        <input
          type="text"
          id="e_msg"
          value="`BST@Ff@Ffj "
          class="w-100 mb-1 border rounded p-1"
        />
      </div>

      <div class="d-flex mb-1 justify-content-between">
        <div class="d-flex flex-column w-sm-input">
          <label for="msg_start">Start</label>
          <input
            type="number"
            id="msg_start"
            value="4"
            min="0"
            class="border rounded p-1"
          />
        </div>
        <div class="d-flex flex-column w-sm-input">
          <label for="msg_end">End</label>
          <input
            type="number"
            id="msg_end"
            value="7"
            min="1"
            max="1000"
            class="border rounded p-1"
          />
        </div>
      </div>

      <div class="d-flex mb-1 justify-content-between">
        <div class="d-flex flex-column w-sm-input">
          <label for="div">Divider</label>
          <input
            type="number"
            id="div"
            step="0.000001"
            value="100"
            class="border rounded p-1 no-spinner"
          />
        </div>
        <div class="d-flex flex-column w-sm-input">
          <label for="mul">Multiplier</label>
          <input
            type="number"
            id="mul"
            step="0.000001"
            value="1"
            class="border rounded p-1 no-spinner"
          />
        </div>
      </div>

      <div class="d-flex mb-1 justify-content-between">
        <div class="d-flex flex-column w-sm-input">
          <label for="add">Adder</label>
          <input
            type="number"
            id="add"
            step="0.000001"
            value="0"
            class="border rounded p-1 no-spinner"
          />
        </div>
        <div class="d-flex flex-column w-sm-input">
          <label for="ndig">Digits</label>
          <input type="number" id="ndig" value="2" class="border rounded p-1" />
        </div>
      </div>
      <input
        class="btn btn-primary btn-lg mt-4 w-100"
        name="Submit"
        type="submit"
        value="Decode"
      />
    </form>
    <div class="border p-2 rounded mb-4 border-success">
      <p>
        <span class="text-sm">Encoded Message:</span>
        <code id="encoded_output"> </code>
      </p>
      <p>
        <span class="text-sm">Raw Decoded Message:</span>
        <code id="decoded_output"> </code>
      </p>
      <p class="mb-1">
        <span class="text-sm">Processed Decoded Message:</span>
        <code id="decoded_ans"> </code>
      </p>
    </div>
    <div id="err-container" class="p-2 rounded text-sm">
      <h3 class="error-h3" style="visibility: hidden">FIX FOLLOWING ERRORS</h3>
      <ul id="err" class="mb-0"></ul>
    </div>
  </body>
</html>
